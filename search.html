<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>InfoHub – Wempe Uhren-/Schmucksuche</title>
  <style>
    :root{
      --brand:#b3132d; --brand-dark:#8c0f24; --text:#2b2b2b; --muted:#9aa0a6;
      --divider:#e9e9e9; --bg:#ffffff;
    }
    html,body{height:100%;}
    body{
      position: fixed;
      margin:0; width:100%; background:var(--bg); color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    h2 {
        color: #8c0e24;
        margin-top: 0%;
        margin-bottom: 0%;
    }

    /* Obere App-Leiste */
    .appbar{
        position:sticky;top:0;z-index:10;
        background: #f9f9f9;
        border-bottom:1px solid var(--divider);
    }
    .appbar-inner{
        max-width:720px; margin:0 auto;
        padding:8px 16px; display:flex; align-items:center; justify-content:space-between;
    }
    .brand{
        display:flex; gap:12px; align-items:center;
    }
    .brand img{ 
        width:34px; 
        height:34px; 
        object-fit:contain;
    }

    .brand .title{ 
        line-height:0.85; 
    }

    .brand .title .top{ 
        font-weight:800; 
        letter-spacing:1px; 
        font-size:18px; 
        color:#8c0f24;
    }   

    .brand .title .sub{ 
        font-weight:700; 
        font-size:18px; 
        color:#ff054a;
    }   

    .menu{ 
        width:40px; 
        height:22px; 
        display:grid; 
        gap:6px; 
        cursor:pointer; 
    }

    .menu span{ 
        background:var(--brand); 
        height:3px; 
        display:block; 
    }

    main{max-width:900px;margin:0 auto;padding:8px 16px 40px;}

    /* Karten */
    .card{
        background:#fff;
        border-radius:14px;
        box-shadow:0 2px 16px rgba(0,0,0,.06);
        padding-left: 20px;
        padding-right: 20px;
        padding-top: 7px;
        padding-bottom: 7px;
        border:1px solid var(--divider);
    }

    .row {
        display: flex;
        flex-direction: column; /* untereinander */
        gap: 14px;
    }

    /* Elemente im .row vollbreit */
    .row > div {
        width: 100%;
    }

    /* Button vollbreit */
    .row button {
        width: 100%;
    }

    /* Schnell-Buttons nebeneinander */
    #quickRow {
        display: flex;           /* eigenes Flex-Layout */
        flex-direction: row;     /* Spalten-Regel überschreiben */
        gap: 5px;
        flex-wrap: wrap;
        margin-top: 7px;         /* darf umbrechen, wenn wenig Platz */
    }

    /* Buttons im quickRow nicht full-width */
    #quickRow button {
        width: auto;             /* überschreibt .row button { width:100% } */
        flex: 0 0 calc(50% - 10px);             /* gleich breit auf einer Zeile */
        font-size: 4vw;
    }

    /* (optional) ab kleiner Breite 2 pro Zeile erzwingen */
    @media (max-width: 420px) {
    #quickRow button { flex: 1 1 calc(50% - 10px); }
    }

    #quickRow::-webkit-scrollbar {
        display: none;
    }

    a {
      text-decoration: none;
    }

    /* --- Right Drawer --- */
    .drawer{
      position:fixed; inset:0; z-index:999; 
      pointer-events:none;
    }
    .drawer.open{ pointer-events:auto; }

    .drawer-backdrop{
      position:absolute; inset:0;
      background:rgba(0,0,0,.35);
      opacity:0; transition:opacity .25s ease;
    }
    .drawer.open .drawer-backdrop{ opacity:1; }

    /* Panel */
    .drawer-panel{
      position:absolute; top:0; right:0; height:100%;
      width:min(420px, 65vw);
      background:#fff;
      border-left:2px solid var(--brand-dark);
      box-shadow:-8px 0 24px rgba(0,0,0,.15);
      transform:translateX(100%);
      transition:transform .28s ease;

      /* wichtig: klassisches Layout */
      display:flex;
      flex-direction:column;
    }
    .drawer.open .drawer-panel{ transform:translateX(0); }

    /* Kopf */
    .drawer-head{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px; border-bottom:1px solid var(--divider);
    }
    .drawer-close{
      border:0; background:transparent; font-size:28px; line-height:1;
      cursor:pointer; color:var(--brand-dark);
    }

    /* Navigation */
    .drawer-nav{
      display:flex;
      flex-direction:column;
      padding:12px 8px 24px;
      gap:10px;

    /* entscheidend: nimmt *den restlichen Platz* ein */
      flex:1 1 auto;
      overflow-y:auto;
    }
    .drawer-nav a{
      display:block;
      padding:14px 18px;
      font-size:22px;
      color:#2b2b2b;
      text-decoration:none;
    }
    .drawer-nav a:hover{
      background:#f5f5f5;
    }

    .drawer-nav .nav-img{
      padding:14px 18px;
      text-align:left;
    }
    .drawer-nav .nav-img img{
      height:32px;
      width:auto;
      vertical-align:middle;
    }

    /* Footer — unten fixiert */
    .drawer-footer{
      flex-shrink:0;              /* klassisch: bleibt stehen */
      text-align:center;
      font-size:0.85rem;
      color:#999;
      padding:12px 0 16px;
      border-top:1px solid #eee;
      margin-top:auto;            /* drückt ihn nach unten */
    }

    .drawer-footer small{
      display:block;
      opacity:0.7;
      margin-bottom:10px;
    }
    .drawer-footer small:last-child{
      margin-bottom:0;
    }


    /* Optional: Hintergrund nicht scrollen, wenn offen */
    .body-no-scroll{ overflow:hidden; }



    h1{font-size:1.6rem;margin:0 0 1rem;}
    label{display:block;font-size:.9rem;margin-bottom:6px;color:#555;}

    .custom-select{
        position: relative;
        display: inline-block;
        width: 100%;
        max-width: 580px; /* falls gewünscht */
        border: 1px solid #a6a6a6;
        border-radius: 0;       /* wie in deiner Vorlage: eckig */
        background: #fff;
        overflow: hidden;     /* schneidet sauber ab, nix ragt raus */
    }

    /* Native Deko abschalten, Select vollflächig */
    .custom-select select{
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;

        position: relative;
        z-index: 1;             /* unter dem Chevron, über dem Wrapper-Hintergrund */
        display: block;
        width: 100%;
        padding: 14px 56px 14px 14px;  /* rechts Platz für roten Block + Chevron */
        font-size: 16px;
        line-height: 1.2;

        border: 0;              /* Border liegt am Wrapper */
        background: transparent;/* wichtig für iOS, damit Pseudoelemente sichtbar bleiben */
        cursor: pointer;
    }

    /* Disabled-Optik (falls du wieder disabled nutzt) */
    .custom-select select:disabled{
        cursor: not-allowed;
        opacity: .6;
        color: #8c0e24;
    }

    .custom-select select:focus {
        color: #8c0e24;
    }

    /* Rechter roter Block */
    .custom-select::after{
        content: "";
        position: absolute;
        top: 0; right: 0;
        width: 50px;
        height: 100%;
        background: #8c0e24;    /* Wempe-Rot */
        z-index: 2;             /* über dem Select */
        pointer-events: none;   /* Klicks gehen durch zum Select */
    }

    .custom-select select option {
        color: #8c0e24 !important;     /* Farbe in der Dropdown-Liste */
        background: #fff !important;   /* zwingt Weiß dahinter */
    }

    @supports (-webkit-touch-callout: none) {
        .custom-select select,
        .custom-select select option {
            color: #8c0e24 !important;
            -webkit-text-fill-color: #8c0e24;
        }
    }

    /* Weißes Chevron im roten Block */
    .custom-select::before{
        content: "";
        position: absolute;
        top: 50%; right: 18px;
        width: 10px; height: 10px;
        border-right: 3px solid #fff;
        border-bottom: 3px solid #fff;
        transform: translateY(-60%) rotate(45deg);
        z-index: 3;             /* über dem roten Block */
        pointer-events: none;
    }

    /* Fokus-/Tastaturbedienung sichtbar machen (optional, aber sinnvoll) */
    .custom-select:focus-within{
        outline: 2px solid #d8001f22;
        outline-offset: 2px;
    }

    /* Eingabefeld soll nicht mehr aus dem Layout schieben */
    input[type="text"] {
        min-width: 0;      /* statt 300px */
        width: 100%;
        height: 25px;
    }

    /* Der gemeinsame Kasten um Input + Button */
    .search-inline{
        display:flex;
        align-items:stretch;
        width:100%;
        border:1px solid #a6a6a6;   /* gleicher Rand wie bei deinen Dropdowns */
        overflow:hidden;             /* alles im Rahmen, nix ragt raus */
        background:#fff;
        box-sizing:border-box;
    }

    /* Input IM KASTEN: kein eigener Rand/Radius/Margin */
    .search-inline input[type="text"]{
        flex:1 1 auto;
        width:100%;
        border:0 !important;
        border-radius:0 !important;
        margin:0;
        padding:12px 14px;
        font-size:16px;
        background:#fff;
        outline:0;
    }

    /* Rechter Button IM KASTEN: keine Pille, fixe Breite */
    .search-inline #kwBtn{
        flex:0 0 5px;
        width:56px !important;              /* schlägt .row button { width:100% } */
        border:0;
        border-radius:0 !important;         /* bündiger Abschluss zum Rahmen */
        margin:0;
        padding:0;
        background:#8c0e24;
        color:transparent;                  /* Text bleibt für Screenreader */
        position:relative;
    }

    /* Weißer Chevron im Button */
    .search-inline #kwBtn::before{
        content:"";
        position:absolute;
        top:50%; left:42%;
        width:10px; height:10px;
        border-right:3px solid #fff;
        border-bottom:3px solid #fff;
        transform:translate(-40%,-50%) rotate(-45deg);
    }

    /* Disabled nicht ausgrauen – sonst wirkt es „außerhalb“ */
    .search-inline #kwBtn:disabled{ opacity:1; background:#8c0e24; }


    button{padding:12px 18px;border-radius:999px;border:0;background:#8c0e24;color:#fff;font-weight:600;cursor:pointer;}
    button:disabled{opacity:.5;cursor:not-allowed;}
    .hint{margin-top:12px;font-size:.9rem;color:#666;}
    .hidden{display:none!important;}

    /* Toggle */
    .toggle-wrap{margin:7px 0 10px;}
    .toggle{width:100%;height:56px;position:relative;user-select:none;outline:none;}
    .track{width:100%;height:100%;background:#a7a7a7;border-radius:100vmax;position:relative;overflow:hidden;}
    .slider{position:absolute;top:0;left:0;width:62%;height:100%;background:#8c0f24;border-radius:100vmax;display:flex;align-items:center;justify-content:center;transition:left .28s ease;cursor:pointer;}
    .toggle[data-state="uhren"] .slider{left:0}
    .toggle[data-state="schmuck"] .slider{left:calc(100% - 62%)}
    .slider .active{color:#fff;font-weight:600;font-size:clamp(24px,4.5vw,44px)}

    .footer {
      position: relative;
      text-align: center;
      margin: 10px 0;
    }

    .footer-icon {
      height: 30px; /* anpassen nach Bedarf */
      vertical-align: middle;
      background: #fff; /* sorgt dafür, dass die Linien hinter dem PNG weg sind */
      padding: 0 10px;
    }

    .footer::before,
    .footer::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 45%;
      height: 1px;
      background: #ccc; /* feines Grau */
    }

    .footer::before {
      left: 0;
    }

    .footer::after {
      right: 0;
    }

  </style>
</head>
<body>

<!-- Kopfzeile -->
    <header class="appbar" role="banner">
        <div class="appbar-inner">
            <a href="index.html">
                <div class="brand">
                    <!-- Logo-Platzhalter -->
                    <img src="images/info.png" alt="Logo" />
                    <div class="title">
                        <div class="top">INFO</div>
                        <div class="sub">HUB – NL09</div>
                    </div>
                </div>
            </a>
            <!-- Hamburger -->
            <div class="menu" aria-label="Menü"><span></span><span></span><span></span></div>
        </div>
    </header>

<div id="drawer" class="drawer" aria-hidden="true">
  <div class="drawer-backdrop" data-close></div>

  <aside class="drawer-panel" role="dialog" aria-label="Hauptmenü">
    <header class="drawer-head">
      <div class="user">
        <!-- optional: Avatar/Name -->
        <strong>Menü</strong>
      </div>
      <button class="drawer-close" type="button" aria-label="Schließen" data-close>×</button>
    </header>

    <nav class="drawer-nav">
      <a href="index.html" class="nav-img">
        <img src="images/InfoHubFull.png" alt="Home">
      </a>

      <a href="https://apps.powerapps.com/play/e/default-2a806850-56cc-41fc-a677-4dbc75faadc8/a/94990c0a-755a-41e2-a443-1aed2cb755c4?tenantId=2a806850-56cc-41fc-a677-4dbc75faadc8&hint=5529b549-c697-4f23-a113-69b3e00ce833&sourcetime=1753857134493&skipMobileRedirect=1"
          class="nav-img"
          target="_blank"
          rel="noopener noreferrer">
        <img src="images/SalesHubFull.png" alt="SalesHub öffnen">
      </a>

      <a href="help.html">Hilfe & Support</a>
      
    </nav>

    <!-- Dezent platzierter Footer-Text -->
    <div class="drawer-footer">
      <small>Idee, Konzeption & Umsetzung 2025<br>Justus L. Merkel</small>
      <small>Designvorlage<br>Konstantinos Christoulakis<br>NL09 ⋅ Gerhard D. Wempe GmbH & Co. KG<br>Weinstraße 11, 80333 München</small>
    </div>

  </aside>
</div>

<main>
    <!-- Toggle -->
    <div class="toggle-wrap">
        <div class="toggle" role="switch" aria-checked="false" tabindex="0" data-state="uhren" aria-label="Auswahl: UHREN oder SCHMUCK">
        <div class="track">
            <div class="slider"><span class="active">UHREN</span></div>
        </div>
        </div>
    </div>

    <script>
      (function(){
        const drawer   = document.getElementById('drawer');
        const menuBtn  = document.querySelector('.menu');     // dein Icon oben rechts
        const closers  = drawer.querySelectorAll('[data-close]');

        function openDrawer(){
          drawer.classList.add('open');
          document.body.classList.add('body-no-scroll');
          drawer.setAttribute('aria-hidden','false');
        }
        function closeDrawer(){
          drawer.classList.remove('open');
          document.body.classList.remove('body-no-scroll');
          drawer.setAttribute('aria-hidden','true');
        }
        function toggleDrawer(){
          drawer.classList.contains('open') ? closeDrawer() : openDrawer();
        }

        menuBtn.addEventListener('click', toggleDrawer);
        closers.forEach(el => el.addEventListener('click', closeDrawer));
        document.addEventListener('keydown', (e)=>{
          if(e.key === 'Escape') closeDrawer();
        });
      })();
    </script>


    <!-- Uhren-Hauptsuche -->
    <div id="uhrenSearch" class="card">
        <h2>MODELLSUCHE</h2>
        <div class="row">

            <div>
                <label for="brand">MARKE*</label>
                <div class="custom-select">
                    <select id="brand">
                        <option value=""></option>
                    </select>
                </div>
            </div>

            <div>
                <label for="collection">LINIE</label>
                <div class="custom-select">
                    <select id="collection" disabled>
                        <option value=""></option>
                    </select>
                </div>
            </div>

            <div>
                <button id="searchBtn" disabled>Suche</button>
            </div>

        </div>
    </div>

    <!-- Schmuck-Hauptsuche -->
    <div id="schmuckSearch" class="card hidden" style="margin-top:16px;">
      <h2>MODELLSUCHE</h2>
      <div class="row">
        <div>
          <label for="jBrand">MARKE*</label>
          <div class="custom-select">
            <select id="jBrand">
              <option value=""></option>
            </select>
          </div>
        </div>

        <div>
          <label for="jCollection">LINIE</label>
          <div class="custom-select">
            <select id="jCollection" disabled>
              <option value=""></option>
            </select>
          </div>
        </div>

      <div>
        <button id="jSearchBtn" disabled>Suche</button>
      </div>
    </div>
  </div>


    <!-- Stichwortsuche -->
    <div class="card">
        <div class="row">
            <div>
                <h2>STICHWORTSUCHE</h2>

                <!-- NEU: angedockte Suche -->
                <div class="search-inline">
                    <input type="text" id="kw" placeholder="Begriff eingeben…" />
                    <button id="kwBtn" disabled>Suchen</button>
                </div>
            </div>
        </div>

        <!-- Schnell-Buttons (werden je nach Modus umgeschaltet) -->
          <div id="quickRow" class="row" style="flex-wrap:wrap;">
              <button id="quick1">GMT</button>
              <button id="quick2">Taucher</button>
              <button id="quick3">Chronograph</button>
              <button id="quick4">Flieger</button>
          </div>
    </div>

    <footer class="footer">
        <a href="index.html">
            <img src="images/logo.png" alt="" class="footer-icon">
        </a>
    </footer>
</main>

<script>
  // --- Toggle-Logik + Sichtbarkeit ---
  const toggleEl = document.querySelector('.toggle');
  const slider = toggleEl.querySelector('.slider');
  const uhrenCard = document.getElementById('uhrenSearch');
  const schmuckCard = document.getElementById('schmuckSearch');

  function setMode(mode){
    const isSchmuck = (mode === 'schmuck');
    toggleEl.setAttribute('data-state', mode);
    toggleEl.setAttribute('aria-checked', String(isSchmuck));
    toggleEl.querySelector('.slider .active').textContent = isSchmuck ? 'SCHMUCK' : 'UHREN';
    // Sichtbarkeit: Uhrensuche ausblenden, Schmuck-Platzhalter einblenden
    uhrenCard.classList.toggle('hidden', isSchmuck);
    schmuckCard.classList.toggle('hidden', !isSchmuck);
    // Buttons an Modus anpassen
    updateQuickButtons(mode);
  }

  function flip(){
    const cur = toggleEl.getAttribute('data-state');
    const next = (cur === 'schmuck') ? 'uhren' : 'schmuck';
    setMode(next);
  }
  slider.addEventListener('click', flip);
  toggleEl.addEventListener('keydown', e=>{
    if(e.key==='Enter' || e.key===' '){ e.preventDefault(); flip(); }
  });

  // --- Datenbasis Uhren (Slugs exakt wie geliefert) ---
  const DATA = {
    "baume-mercier": ["riviera","hampton","clifton-baumatic","classima"],
    "breguet": ["classique","classique-grandes-complications","marine","reine-de-naples","tradition","type-xx"],
    "breitling": ["avenger","classic-avi","super-avi","chronomat","navitimer-1","premier","professional","superocean","superocean-heritage","top-time"],
    "cartier": ["baignoire","ballon-bleu-de-cartier","panthere-de-cartier","pasha-de-cartier","ronde-de-cartier","santos-de-cartier","tank-de-cartier"],
    "chanel": ["premiere","boy-friend","j12"],
    "chopard": ["alpine-eagle","classic","happy-sport","l-heure-du-diamant","mille-miglia"],
    "ebel": ["1911","brasilia","discovery","sport-classic","wave"],
    "erwin-sattler": ["grossuhren-erwin-sattler"],
    "girard-perregaux": ["laureato","1966","bridges","cat-s-eye","casquette-2-0"],
    "iwc-schaffhausen": ["pilot-s-watches","portugieser","portofino","aquatimer","ingenieur"],
    "jacob-co": ["astronomia-regulator","bugatti-chiron-tourbillon","casino","epic-x-skeleton","opera","palatial","sf24","time-zone"],
    "jaeger-lecoultre": ["jaeger-lecoultre-polaris","master","rendez-vous","reverso"],
    "junghans": ["mesiter","max-bill","form"],
    "longines": ["conquest","elegance","heritage","hydroconquest","longines-ultra-chron","longines-spirit","watchmaking-spirit"],
    "montblanc": ["1858","boheme","heritage-chronometrie","star-legacy","tradition"],
    "nomos-glashuette": ["ahoi","autobahn","club","ludwig","metro","minimatik","orion","sonnenuhr","tangomat","tangente","tetra","zürich"],
    "norqain": ["independence","adventure-sport","freedom-60"],
    "panerai": ["radiomir","luminor","luminor-due","submersible"],
    "parmigiani-fleurier": ["tonda","toric"],
    "rolex": ["air-king","cosmograph-daytona","datejust","day-date","deepsea","explorer","gmt-master-ii","lady-datejust","land-dweller","oyster-perpetual","sea-dweller","sky-dweller","submariner","yacht-master"],
    "tag-heuer": ["aquaracer","autavia","connected","monaco","carrera","formula-1"],
    "tudor": ["black-bay","claire-de-rose","tudor-royal","1926","pelagos","ranger"],
    "wempe-glashuette-i-sa": ["chronometerwerke","iron-walker","zeitmeister-fliegeruhren","zeitmeister-komplikationen","zeitmeister-automatik","zeitmeister-quarz","zeitmeister-manchette","wempe-glashuette-i-sa-limitierte-editionen"]
  };

  const BRAND_LABEL_OVERRIDES = {
    "baume-mercier":"Baume & Mercier","iwc-schaffhausen":"IWC Schaffhausen",
    "jaeger-lecoultre":"Jaeger-LeCoultre","girard-perregaux":"Girard-Perregaux",
    "parmigiani-fleurier":"Parmigiani Fleurier","tag-heuer":"TAG Heuer",
    "nomos-glashuette":"NOMOS Glashütte","wempe-glashuette-i-sa":"Wempe Glashütte i/SA",
    "jacob-co":"Jacob & Co"
  };
  const COLLECTION_LABEL_OVERRIDES = {
    "classique-grandes-complications":"Classique Grandes Complications","cat-s-eye":"Cat's Eye","casquette-2-0":"Casquette 2.0",
    "pilot-s-watches":"Pilot's Watches","l-heure-du-diamant":"L'Heure du Diamant","navitimer-1":"Navitimer 1","super-avi":"Super AVI","top-time":"Top Time",
    "boy-friend":"Boy·Friend","jaeger-lecoultre-polaris":"Polaris","mesiter":"Meister","longines-ultra-chron":"Ultra-Chron","sf24":"SF24","time-zone":"Time Zone",
    "black-bay":"Black Bay","iron-walker":"Iron Walker","zeitmeister-quarz":"Zeitmeister Quarz","zeitmeister-automatik":"Zeitmeister Automatik",
    "zeitmeister-komplikationen":"Zeitmeister Komplikationen","zeitmeister-fliegeruhren":"Zeitmeister Fliegeruhren",
    "wempe-glashuette-i-sa-limitierte-editionen":"Wempe Glashütte i/SA – Limitierte Editionen",
    "formula-1":"Formula 1","gmt-master-ii":"GMT-Master II","oyster-perpetual":"Oyster Perpetual","sea-dweller":"Sea-Dweller","sky-dweller":"Sky-Dweller",
    "yacht-master":"Yacht-Master","lady-datejust":"Lady-Datejust","air-king":"Air-King"
  };

  function toTitleCase(s){ return s.replace(/[-_/]+/g,' ').replace(/\s+/g,' ').trim().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1)); }
  function brandLabel(slug){ return BRAND_LABEL_OVERRIDES[slug] || toTitleCase(slug); }
  function collectionLabel(slug){ return COLLECTION_LABEL_OVERRIDES[slug] || toTitleCase(slug); }

  const brandSelect = document.getElementById('brand');
  const collSelect  = document.getElementById('collection');
  const searchBtn   = document.getElementById('searchBtn');

  // Marken befüllen
  Object.keys(DATA).sort((a,b)=>brandLabel(a).localeCompare(brandLabel(b),'de'))
    .forEach(slug=>{
      const opt=document.createElement('option');
      opt.value=slug; opt.textContent=brandLabel(slug);
      brandSelect.appendChild(opt);
    });

  // Kollektionen dynamisch
  brandSelect.addEventListener('change',()=>{
    const brand=brandSelect.value;
    collSelect.innerHTML='<option value="">– Kollektion wählen (optional) –</option>';
    if(!brand){ collSelect.disabled=true; searchBtn.disabled=true; return; }
    const cols=DATA[brand]||[];
    cols.slice().sort((a,b)=>collectionLabel(a).localeCompare(collectionLabel(b),'de')).forEach(cslug=>{
      const opt=document.createElement('option'); opt.value=cslug; opt.textContent=collectionLabel(cslug);
      collSelect.appendChild(opt);
    });
    collSelect.disabled=cols.length===0; searchBtn.disabled=false;
  });

  // Suche Marke/Kollektion
  searchBtn.addEventListener('click',()=>{
    const brand=brandSelect.value; if(!brand) return;
    const coll=collSelect.value;
    const base='https://www.wempe.com/de-de/uhren/';
    let url=base+encodeURIComponent(brand)+'/';
    if(coll){ url+=encodeURIComponent(coll)+'/'; }
    window.location.href=url;
  });

  // --- Datenbasis SCHMUCK ---
  const JEWELRY_DATA = {
    "by-kim": [
      "blu-by-kim","helioro-by-kim","krone-by-kim","puntino-by-kim",
      "playlist-by-kim","lucky-by-kim","sensual-by-kim","colonna-by-kim"
    ],
    "wempe-137": [],
    "high-jewelry": ["attraction","spotlight"],
    "fine-jewelry": ["one","minimalism","twist","memories","classics"],
    "adolfo-courrier": [],
    "fagnoul": [],
    "isabellefa": ["chacha","essentials","flix-flex"],
    "niessing": ["cube","oval","satellite","soft-classic","tonneau"],
    "serafino-consoli": []
  };

  // Lesbare Labels für Marken/Linien (Schmuck)
  const J_BRAND_LABEL_OVERRIDES = {
    "by-kim": "BY KIM",
    "wempe-137": "Wempe 137",
    "high-jewelry": "High Jewelry",
    "fine-jewelry": "Fine Jewelry",
    "adolfo-courrier": "Adolfo Courrier",
    "isabellefa": "IsabelleFa",
    "serafino-consoli": "Serafino Consoli"
  };
  const J_COLLECTION_LABEL_OVERRIDES = {
    "blu-by-kim":"Blu BY KIM",
    "helioro-by-kim":"Helioro BY KIM",
    "krone-by-kim":"Krone BY KIM",
    "puntino-by-kim":"Puntino BY KIM",
    "playlist-by-kim":"Playlist BY KIM",
    "lucky-by-kim":"Lucky BY KIM",
    "sensual-by-kim":"Sensual BY KIM",
    "colonna-by-kim":"Colonna BY KIM",
    "soft-classic":"Soft Classic"
  };

  function jBrandLabel(slug){
    return J_BRAND_LABEL_OVERRIDES[slug] || toTitleCase(slug);
  }
  function jCollectionLabel(slug){
    return J_COLLECTION_LABEL_OVERRIDES[slug] || toTitleCase(slug);
  }

  // DOM-Refs Schmuck
  const jBrandSelect = document.getElementById('jBrand');
  const jCollSelect  = document.getElementById('jCollection');
  const jSearchBtn   = document.getElementById('jSearchBtn');

  // Marken (Schmuck) befüllen
  Object.keys(JEWELRY_DATA)
    .sort((a,b)=> jBrandLabel(a).localeCompare(jBrandLabel(b),'de'))
    .forEach(slug=>{
      const opt = document.createElement('option');
      opt.value = slug;
      opt.textContent = jBrandLabel(slug);
      jBrandSelect.appendChild(opt);
    });

  // Linien dynamisch nach Markenauswahl (Schmuck)
  jBrandSelect.addEventListener('change', ()=>{
    const brand = jBrandSelect.value;
    jCollSelect.innerHTML = '<option value=""></option>';

    if(!brand){
      jCollSelect.disabled = true;
      jSearchBtn.disabled  = true;
      return;
    }
    const cols = JEWELRY_DATA[brand] || [];
    cols.slice()
        .sort((a,b)=> jCollectionLabel(a).localeCompare(jCollectionLabel(b),'de'))
        .forEach(cslug=>{
          const opt = document.createElement('option');
          opt.value = cslug;
          opt.textContent = jCollectionLabel(cslug);
          jCollSelect.appendChild(opt);
        });
    jCollSelect.disabled = cols.length === 0;
    jSearchBtn.disabled  = false; // Suche mit Marke allein zulassen
  });

  // Suche (Schmuck)
  jSearchBtn.addEventListener('click', ()=>{
    const brand = jBrandSelect.value;
    if(!brand) return;
    const coll = jCollSelect.value;
    const base = 'https://www.wempe.com/de-de/schmuck/';
    let url = base + encodeURIComponent(brand) + '/';
    if(coll){ url += encodeURIComponent(coll) + '/'; }
    window.location.href = url;
  });


  // Stichwortsuche
  const kwInput=document.getElementById('kw');
  const kwBtn=document.getElementById('kwBtn');
  function normalizeQuery(q){ return encodeURIComponent(q.trim()).replace(/%20/g,'+'); }
  function updateKwState(){ kwBtn.disabled = kwInput.value.trim().length===0; }
  kwInput.addEventListener('input',updateKwState);
  kwInput.addEventListener('keydown',e=>{ if(e.key==='Enter' && !kwBtn.disabled){ kwBtn.click(); }});
  kwBtn.addEventListener('click',()=>{ const q=kwInput.value.trim(); if(!q) return;
    const url='https://www.wempe.com/de-de/search?sSearch='+normalizeQuery(q); window.location.href=url; });

  // Schnell-Buttons je Modus
  const quick1=document.getElementById('quick1');
  const quick2=document.getElementById('quick2');
  const quick3=document.getElementById('quick3');
  const quick4=document.getElementById('quick4');
  const QUICK_LINKS={
    uhren:[
      {label:'GMT',url:'https://www.wempe.com/de-de/uhren/gmt-uhren/'},
      {label:'Taucher',url:'https://www.wempe.com/de-de/uhren/taucheruhren/'},
      {label:'Chronograph',url:'https://www.wempe.com/de-de/uhren/chronographen/'},
      {label:'Flieger',url:'https://www.wempe.com/de-de/uhren/fliegeruhren/'}
    ],
    schmuck:[
      {label:'Ringe',url:'https://www.wempe.com/de-de/schmuck/ringe/'},
      {label:'Ohrringe',url:'https://www.wempe.com/de-de/schmuck/ohrringe/'},
      {label:'Halsschmuck',url:'https://www.wempe.com/de-de/schmuck/ketten-colliers-anhaenger/'},
      {label:'Armschmuck',url:'https://www.wempe.com/de-de/schmuck/armbaender-armreife/'}
    ]
  };
  function updateQuickButtons(mode){
    const cfg=QUICK_LINKS[mode];
    [quick1,quick2,quick3,quick4].forEach((btn,i)=>{
      btn.textContent = cfg[i].label;
      btn.onclick = ()=>window.location.href = cfg[i].url;
    });
  }

  // Initialzustand
  updateQuickButtons('uhren');
  setMode('uhren');
</script>
</body>
</html>
