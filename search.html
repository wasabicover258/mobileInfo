<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wempe Uhren-Suche</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    body { margin: 0; padding: 24px; background: #f7f7f7; color: #222; }
    .wrap { max-width: 900px; margin: 0 auto; }
    h1 { font-size: 1.6rem; margin: 0 0 1rem; }
    .card { background: #fff; border-radius: 14px; box-shadow: 0 2px 16px rgba(0,0,0,.06); padding: 20px; }
    .row { display: flex; gap: 12px; flex-wrap: wrap; align-items: end; }
    label { display: block; font-size: .9rem; margin-bottom: 6px; color: #555; }
    select { min-width: 260px; padding: 10px 12px; border-radius: 10px; border: 1px solid #d0d0d0; background: #fff; font-size: 1rem; }
    button { padding: 12px 18px; border-radius: 10px; border: 0; background: #222; color: #fff; font-weight: 600; cursor: pointer; }
    button:disabled { opacity: .5; cursor: not-allowed; }
    .hint { margin-top: 12px; font-size: .9rem; color: #666; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Wempe – Uhren nach Marke & Kollektion</h1>
    <div class="card">
      <div class="row">
        <div>
          <label for="brand">Marke</label>
          <select id="brand">
            <option value="">– Marke wählen –</option>
          </select>
        </div>
        <div>
          <label for="collection">Kollektion</label>
          <select id="collection" disabled>
            <option value="">– Kollektion wählen (optional) –</option>
          </select>
        </div>
        <div>
          <button id="searchBtn" disabled>Suche</button>
        </div>
      </div>
      <p class="hint">Tipp: Erst Marke wählen, dann – falls gewünscht – die passende Kollektion. Anschließend „Suche“.</p>
    </div>
  </div>

  <script>
    // --- Datenbasis (Slugs exakt wie vorgegeben; Anzeige wird "normal" formatiert) ---
    const DATA = {
      "baume-mercier": ["riviera","hampton","clifton-baumatic","classima"],
      "breguet": ["classique","classique-grandes-complications","marine","reine-de-naples","tradition","type-xx"],
      "breitling": ["avenger","classic-avi","super-avi","chronomat","navitimer-1","premier","professional","superocean","superocean-heritage","top-time"],
      "cartier": ["baignoire","ballon-bleu-de-cartier","panthere-de-cartier","pasha-de-cartier","ronde-de-cartier","santos-de-cartier","tank-de-cartier"],
      "chanel": ["premiere","boy-friend","j12"],
      "chopard": ["alpine-eagle","classic","happy-sport","l-heure-du-diamant","mille-miglia"],
      "ebel": ["1911","brasilia","discovery","sport-classic","wave"],
      "erwin-sattler": ["grossuhren-erwin-sattler"],
      "girard-perregaux": ["laureato","1966","bridges","cat-s-eye","casquette-2-0"],
      "iwc-schaffhausen": ["pilot-s-watches","portugieser","portofino","aquatimer","ingenieur"],
      "jaboc-co": ["astronomia-regulator","bugatti-chiron-tourbillon","casino","epic-x-skeleton","opera","palatial","sf24","time-zone"],
      "jaeger-lecoultre": ["jaeger-lecoultre-polaris","master","rendez-vous","reverso"],
      "junghans": ["mesiter","max-bill","form"],
      "longines": ["conquest","elegance","heritage","hydroconquest","longines-ultra-chron","longines-spirit","watchmaking-spirit"],
      "montblanc": ["1858","boheme","heritage-chronometrie","star-legacy","tradition"],
      "nomos-glashuette": ["ahoi","autobahn","club","ludwig","metro","minimatik","orion","sonnenuhr","tangomat","tangente","tetra","zürich"],
      "norqain": ["independence","adventure-sport","freedom-60"],
      "panerai": ["radiomir","luminor","luminor-due","submersible"],
      "parmigiani-fleurier": ["tonda","toric"],
      "rolex": ["air-king","cosmograph-daytona","datejust","day-date","deepsea","explorer","gmt-master-ii","lady-datejust","land-dweller","oyster-perpetual","sea-dweller","sky-dweller","submariner","yacht-master"],
      "tag-heuer": ["aquaracer","autavia","connected","monaco","carrera","formula-1"],
      "tudor": ["black-bay","claire-de-rose","tudor-royal","1926","pelagos","ranger"],
      "wempe-glashütte-i-sa": ["chronometerwerke","iron-walker","zeitmeister-fliegeruhren","zeitmeister-komplikationen","zeitmeister-automatik","zeitmeister-quarz","zeitmeister-manchette","wempe-glashuette-i-sa-limitierte-editionen"]
    };

    // Manuelle Überschreibungen für Markennamen (Anzeige)
    const BRAND_LABEL_OVERRIDES = {
      "baume-mercier": "Baume & Mercier",
      "iwc-schaffhausen": "IWC Schaffhausen",
      "jaeger-lecoultre": "Jaeger‑LeCoultre",
      "girard-perregaux": "Girard‑Perregaux",
      "parmigiani-fleurier": "Parmigiani Fleurier",
      "tag-heuer": "TAG Heuer",
      "nomos-glashuette": "NOMOS Glashütte",
      "wempe-glashütte-i-sa": "Wempe Glashütte i/SA",
      "jaboc-co": "Jacob & Co" // Slug wie geliefert, Anzeige korrigiert
    };

    // Manuelle Überschreibungen für Kollektionen (Anzeige)
    const COLLECTION_LABEL_OVERRIDES = {
      "classique-grandes-complications": "Classique Grandes Complications",
      "cat-s-eye": "Cat's Eye",
      "casquette-2-0": "Casquette 2.0",
      "pilot-s-watches": "Pilot's Watches",
      "l-heure-du-diamant": "L'Heure du Diamant",
      "navitimer-1": "Navitimer 1",
      "super-avi": "Super AVI",
      "top-time": "Top Time",
      "boy-friend": "Boy·Friend",
      "jaeger-lecoultre-polaris": "Polaris",
      "mesiter": "Meister",
      "longines-ultra-chron": "Ultra‑Chron",
      "sf24": "SF24",
      "time-zone": "Time Zone",
      "black-bay": "Black Bay",
      "iron-walker": "Iron Walker",
      "zeitmeister-quarz": "Zeitmeister Quarz",
      "zeitmeister-automatik": "Zeitmeister Automatik",
      "zeitmeister-komplikationen": "Zeitmeister Komplikationen",
      "zeitmeister-fliegeruhren": "Zeitmeister Fliegeruhren",
      "wempe-glashuette-i-sa-limitierte-editionen": "Wempe Glashütte i/SA – Limitierte Editionen",
      "formula-1": "Formula 1",
      "gmt-master-ii": "GMT‑Master II",
      "oyster-perpetual": "Oyster Perpetual",
      "sea-dweller": "Sea‑Dweller",
      "sky-dweller": "Sky‑Dweller",
      "yacht-master": "Yacht‑Master",
      "lady-datejust": "Lady‑Datejust",
      "air-king": "Air‑King",
      "black-bay": "Black Bay"
    };

    // Fallback-Formatierung: hyphens -> spaces, Title Case
    function toTitleCase(s){
      return s.replace(/[-_/]+/g, ' ').replace(/\s+/g, ' ').trim().replace(/\w\S*/g, t => t.charAt(0).toUpperCase() + t.slice(1));
    }

    function brandLabel(slug){
      return BRAND_LABEL_OVERRIDES[slug] || toTitleCase(slug);
    }
    function collectionLabel(slug){
      return COLLECTION_LABEL_OVERRIDES[slug] || toTitleCase(slug);
    }

    const brandSelect = document.getElementById('brand');
    const collSelect  = document.getElementById('collection');
    const searchBtn   = document.getElementById('searchBtn');

    // Marken befüllen
    Object.keys(DATA)
      .sort((a,b) => brandLabel(a).localeCompare(brandLabel(b), 'de'))
      .forEach(slug => {
        const opt = document.createElement('option');
        opt.value = slug;
        opt.textContent = brandLabel(slug);
        brandSelect.appendChild(opt);
      });

    // Reaktion auf Markenwahl
    brandSelect.addEventListener('change', () => {
      const brand = brandSelect.value;
      collSelect.innerHTML = '<option value="">– Kollektion wählen (optional) –</option>';
      if(!brand){
        collSelect.disabled = true;
        searchBtn.disabled = true;
        return;
      }
      // Kollektionen der gewählten Marke laden
      const cols = DATA[brand] || [];
      cols
        .slice() // defensiv kopieren
        .sort((a,b) => collectionLabel(a).localeCompare(collectionLabel(b), 'de'))
        .forEach(cslug => {
          const opt = document.createElement('option');
          opt.value = cslug;
          opt.textContent = collectionLabel(cslug);
          collSelect.appendChild(opt);
        });
      collSelect.disabled = cols.length === 0;
      searchBtn.disabled = false; // Mit Marke allein darf gesucht werden
    });

    // Suche
    searchBtn.addEventListener('click', () => {
      const brand = brandSelect.value;
      if(!brand) return; // sollte nicht passieren, Button wäre disabled
      const coll = collSelect.value;
      const base = 'https://www.wempe.com/de-de/uhren/';
      let url = base + encodeURIComponent(brand) + '/';
      if(coll){ url += encodeURIComponent(coll) + '/'; }
      window.location.href = url;
    });
  </script>
</body>
</html>
